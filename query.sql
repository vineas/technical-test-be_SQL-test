create type jk as enum('P','W') 

CREATE TABLE
    customer (
        CUST_ID INT UNIQUE NOT NULL PRIMARY KEY,
        CUST_FIRSTNAME VARCHAR(30) NOT NULL,
        CUST_LASTNAME VARCHAR(30),
        CUST_BIRTHDATE DATE,
        CUST_GENDER jk,
        CUST_ADDRESS VARCHAR(50),
        CUST_CITY VARCHAR(20),
        CUST_POSTCODE CHAR(5)
    )

CREATE TABLE
    account (
        ACC_NUMBER CHAR(13) UNIQUE NOT NULL PRIMARY KEY,
        ACC_OWNER INT NOT NULL,
        ACC_DATE_CREATED DATE NOT NULL,
        ACC_BALANCE DECIMAL(10, 0) NOT NULL,
        FOREIGN KEY (ACC_OWNER) REFERENCES CUSTOMER(CUST_ID)
    )

create type payment as enum('DB', 'CR', 'TF')
CREATE TABLE
    TRANSACTION(
        TRS_ID INT UNIQUE NOT NULL PRIMARY KEY,
        TRS_FROM_ACCOUNT CHAR(13) NOT NULL,
        TRS_DATE DATE NOT NULL,
        TRS_AMOUNT DECIMAL(10, 0) NOT NULL,
        TRS_TYPE payment NOT NULL,
        FOREIGN KEY (TRS_FROM_ACCOUNT) REFERENCES ACCOUNT(ACC_NUMBER)
    );

CREATE TABLE
    TRANSACTION_TRANSFER(
        TRS_ID INT NOT NULL PRIMARY KEY,
        TRS_TO_ACCOUNT CHAR(13) NOT NULL,
        TRS_STATUS CHAR(1) NOT NULL,
        FOREIGN KEY (TRS_ID) REFERENCES TRANSACTION(TRS_ID)
    )

INSERT INTO CUSTOMER (CUST_ID, CUST_FIRSTNAME, CUST_LASTNAME, CUST_BIRTHDATE, CUST_GENDER, CUST_ADDRESS, CUST_CITY, CUST_POSTCODE) 
VALUES 
('14032', 'John','Michael','1978-09-10','P','Industrial Steet','Los Angeles','18982'),
('17901','Jordan','Henderson','1990-02-20','P','Marseyside Street','Liverpool','23103'),
('38912', 'Olivia','Rodrigo','1999-11-14','W','Sesame Street','California','12951');


INSERT INTO ACCOUNT (ACC_NUMBER, ACC_OWNER, ACC_DATE_CREATED, ACC_BALANCE)
VALUES 
('5738291829182', '14032','2023-05-27','10000'),
('9382938293728','17901','2023-08-20', '12000'),
('2492102809812', '38912','2023-09-01','9000');

INSERT INTO TRANSACTION (TRS_ID, TRS_FROM_ACCOUNT, TRS_DATE, TRS_AMOUNT, TRS_TYPE)
VALUES 
('9987626','5738291829182','2023-05-27','8000', 'CR'),
('7872671','9382938293728','2023-08-20', '6000', 'DB'),
('2786156','2492102809812','2023-09-01','7000', 'TF'),
('5625162','7715716281878','2023-09-02', '9000', 'DB');

INSERT INTO TRANSACTION (TRS_ID, TRS_FROM_ACCOUNT, TRS_DATE, TRS_AMOUNT, TRS_TYPE)
VALUES 
('1125162','5738291829182','2023-09-09', '11000', 'TF');

INSERT INTO TRANSACTION_TRANSFER (TRS_ID, TRS_TO_ACCOUNT, TRS_STATUS)
VALUES 
('9987626','7715716281878','1');